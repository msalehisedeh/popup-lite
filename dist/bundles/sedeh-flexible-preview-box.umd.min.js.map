{"version":3,"sources":["ng://@sedeh/flexible-preview-box/src/app/flexible-preview-box/components/flexible-preview-box.component.ts","ng://@sedeh/flexible-preview-box/src/app/flexible-preview-box/flexible-preview-box.module.ts"],"names":["FlexiblePreviewBoxComponent","EventEmitter","prototype","ngOnInit","_this","this","metadata","map","data","position","aboveData","push","belowData","ngOnChanges","changes","itemValue","item","hpath","subitem","subkey","undefined","String","rowContent","row","content","key","split","hoverOver","event","largeImage","effects","zoomOnHover","target","nodeName","hoverOut","nativeElement","style","opacity","top","left","hoverViewPort","layerY","layerX","keyup","which","click","selectItem","onselect","emit","selected","action","videoPlayed","trackingTime","videoPaused","videoEnded","onComponentChange","Component","args","selector","template","ViewChild","Output","Input","FlexiblePreviewBoxModule","NgModule","imports","CommonModule","IntoPipeModule","declarations","exports","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"ubACA,IAAAA,EAAA,WAuCE,SAAAA,mBArBY,kBACA,iBAMF,IAAIC,EAAAA,oBAiBdD,EAAAE,UAAAC,SAAA,WAAA,IAAAC,EAAAC,KACMA,KAAKC,UACPD,KAAKC,SAASC,IAAM,SAACC,GACG,UAAlBA,EAAKC,SACPL,EAAKM,UAAUC,KAAKH,GACM,UAAlBA,EAAKC,UACbL,EAAKQ,UAAUD,KAAKH,MAM5BR,EAAAE,UAAAW,YAAA,SAAYC,KAIJd,EAAAE,UAAAa,mBAAUC,EAAMC,GACxB,IAAIC,EAAUF,EAMd,OALAC,EAAMV,IAAK,SAACY,GACPD,IACHA,EAAUA,EAAQC,MAGbD,IAAYE,WAAyB,OAAZF,GAAgC,SAAZA,EAAqB,GAAKG,OAAOH,IAGrFlB,EAAAE,UAAAoB,WAAA,SAAWC,GACT,IAAIC,EAAUnB,KAAKU,UAAUV,KAAKW,KAAMO,EAAIE,IAAIC,MAAM,MACtD,OAAQF,IAAYJ,WAAwB,MAAXI,EAAmBA,EAAU,IAGhExB,EAAAE,UAAAyB,UAAA,SAAUC,GACNvB,KAAKwB,YAAcxB,KAAKyB,QAAQC,aAAeH,EAAMI,OAAOC,UAIjEjC,EAAAE,UAAAgC,SAAA,SAASN,GACJvB,KAAKwB,aACRxB,KAAKwB,WAAWM,cAAcC,MAAMC,QAAU,EAC9ChC,KAAKwB,WAAWM,cAAcC,MAAME,IAAM,WAC1CjC,KAAKwB,WAAWM,cAAcC,MAAMG,KAAO,aAG7CvC,EAAAE,UAAAsC,cAAA,SAAcZ,GACTvB,KAAKwB,YAAcxB,KAAKyB,QAAQC,cACnC1B,KAAKwB,WAAWM,cAAcC,MAAMC,QAAU,EAC9ChC,KAAKwB,WAAWM,cAAcC,MAAME,KAAOV,EAAMa,OAAS,KAC1DpC,KAAKwB,WAAWM,cAAcC,MAAMG,MAAQX,EAAMc,OAAS,OAI5D1C,EAAAE,UAAAyC,MAAA,SAAMf,GAGS,KAFAA,EAAMgB,OAGjBhB,EAAMI,OAAOa,SAGjB7C,EAAAE,UAAA4C,WAAA,SAAWlB,GACTvB,KAAK0C,SAASC,KAAK,CACjBhC,KAAMX,KAAKW,KACXiC,UAAU,EACVC,OAAQ,cAGZlD,EAAAE,UAAAiD,YAAA,SAAYC,KAEZpD,EAAAE,UAAAmD,YAAA,SAAYD,KAGZpD,EAAAE,UAAAoD,WAAA,SAAWF,KAGXpD,EAAAE,UAAAqD,kBAAA,SAAkB3B,GAChBvB,KAAK0C,SAASC,KAAKpB,wBAzGtB4B,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,uBACVC,SAAA,2tJAQCC,EAAAA,UAASH,KAAA,CAAC,gCAGVI,EAAAA,OAAMJ,KAAA,CAAC,0BAGPK,EAAAA,MAAKL,KAAA,CAAC,0BAGNK,EAAAA,MAAKL,KAAA,CAAC,8BAGNK,EAAAA,MAAKL,KAAA,CAAC,6BAGNK,EAAAA,MAAKL,KAAA,CAAC,gBApCT,GCDAM,EAAA,oDAMCC,EAAAA,SAAQP,KAAA,CAAC,CACRQ,QAAS,CACPC,EAAAA,aACAC,EAAAA,gBAEFC,aAAc,CACZpE,GAEFqE,QAAS,CACPrE,GAEFsE,gBAAiB,GAEjBC,QAAS,CAACC,EAAAA,8BAnBZ","sourcesContent":["\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n  ElementRef,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'flexible-preview-box',\r\n  templateUrl: './flexible-preview-box.component.html',\r\n  styleUrls: ['./flexible-preview-box.component.scss'],\r\n})\r\nexport class FlexiblePreviewBoxComponent implements OnInit, OnChanges {\r\n  \r\n  aboveData = [];\r\n  belowData = [];\r\n  \r\n  @ViewChild(\"largeImage\")\r\n\tprivate largeImage: ElementRef;\r\n\r\n  @Output(\"onselect\")\r\n  onselect= new EventEmitter()\r\n\r\n  @Input(\"item\")\r\n  item: any;\r\n\r\n  @Input(\"viewport\")\r\n  viewport: any;\r\n  \r\n  @Input(\"metadata\")\r\n  metadata: any[];\r\n\r\n  @Input(\"effects\")\r\n  effects: any;\r\n\r\n  constructor() {\t  \r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.metadata) {\r\n      this.metadata.map ( (data) => {\r\n        if (data.position === 'above') {\r\n          this.aboveData.push(data);\r\n        }else if (data.position === 'below') {\r\n          this.belowData.push(data);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes) {\r\n\r\n  }\r\n\r\n  private itemValue(item, hpath) {\r\n\t\tlet subitem = item;\r\n\t\thpath.map( (subkey) => {\r\n\t\t\tif (subitem) {\r\n\t\t\t\tsubitem = subitem[subkey];\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn subitem === undefined || subitem === null || subitem === \"null\" ? \"\" : String(subitem);\r\n\t}\r\n\r\n  rowContent(row) {\r\n    let content = this.itemValue(this.item, row.key.split(\".\"));\r\n    return (content !== undefined && content != null) ? content : '';\r\n  }\r\n\r\n  hoverOver(event) {\r\n\t\tif (this.largeImage && this.effects.zoomOnHover && event.target.nodeName === 'IMG') {\r\n\r\n    }\r\n\t}\r\n\thoverOut(event) {\r\n\t\tif (this.largeImage) {\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 0;\r\n\t\t\tthis.largeImage.nativeElement.style.top = \"-10000px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = \"-10000px\";\r\n\t\t}\r\n\t}\r\n\thoverViewPort(event) {\r\n\t\tif (this.largeImage && this.effects.zoomOnHover) {\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 1;\r\n\t\t\tthis.largeImage.nativeElement.style.top = -event.layerY + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = -event.layerX + \"px\";\r\n\t\t}\r\n\t}\r\n\r\n  keyup(event) {\r\n    const code = event.which;\r\n\r\n    if (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n  selectItem(event) {\r\n    this.onselect.emit({\r\n      item: this.item,\r\n      selected: true,\r\n      action: \"redirect\"\r\n    });\r\n  }\r\n  videoPlayed(trackingTime) { \r\n  }\r\n  videoPaused(trackingTime) {\r\n\r\n  }\r\n  videoEnded(trackingTime) {\r\n\r\n  }\r\n  onComponentChange(event) {\r\n    this.onselect.emit(event);\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IntoPipeModule } from '@sedeh/into-pipes';\r\n\r\nimport { FlexiblePreviewBoxComponent } from './components/flexible-preview-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IntoPipeModule\r\n  ],\r\n  declarations: [\r\n    FlexiblePreviewBoxComponent\r\n  ],\r\n  exports: [\r\n    FlexiblePreviewBoxComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexiblePreviewBoxModule {}\r\n"]}